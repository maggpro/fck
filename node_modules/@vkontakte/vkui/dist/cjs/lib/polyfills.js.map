{"version":3,"sources":["../../../src/lib/polyfills.ts"],"sourcesContent":["/* eslint-disable */\nimport { canUseDOM } from './dom';\n\nexport type MatchesMethod = (css: string) => boolean;\n\nexport interface OldElement extends Element {\n  matchesSelector?: MatchesMethod;\n  mozMatchesSelector?: MatchesMethod;\n  msMatchesSelector?: MatchesMethod;\n}\n\nif (canUseDOM) {\n  const ElementProto = Element.prototype;\n\n  // Element.prototype.matches\n  if (!ElementProto.matches) {\n    ElementProto.matches =\n      (ElementProto as OldElement).matchesSelector ||\n      ElementProto.webkitMatchesSelector ||\n      (ElementProto as OldElement).mozMatchesSelector ||\n      (ElementProto as OldElement).msMatchesSelector;\n  }\n\n  // Element.prototype.closest\n  if (!ElementProto.closest) {\n    ElementProto.closest = function (css: string): Element | null {\n      let node: Element | null = this;\n      while (node) {\n        if (node.matches(css)) {\n          return node;\n        } else {\n          node = node.parentElement;\n        }\n      }\n      return null;\n    };\n  }\n}\n\n// Array.prototype.includes\nif (!Array.prototype.includes) {\n  Object.defineProperty(Array.prototype, 'includes', {\n    value: function (searchElement: any, fromIndex: number) {\n      if (this == null) {\n        throw new TypeError('\"this\" is null or not defined');\n      }\n      const o = Object(this);\n      const len = o.length >>> 0;\n      if (len === 0) {\n        return false;\n      }\n      const n = fromIndex | 0;\n      let k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n      function sameValueZero(x: any, y: any) {\n        return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n      }\n      while (k < len) {\n        if (sameValueZero(o[k], searchElement)) {\n          return true;\n        }\n        k++;\n      }\n      return false;\n    },\n  });\n}\n\n// Array.prototype.find\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, 'find', {\n    value: function (callback: Parameters<Array<any>['find']>[0]) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      } else if (typeof callback !== 'function') {\n        throw new TypeError('callback must be a function');\n      }\n\n      let list = Object(this);\n      let length = list.length >>> 0;\n      let thisArg = arguments[1];\n\n      for (let i = 0; i < length; i++) {\n        let element = list[i];\n        if (callback.call(thisArg, element, i, list)) {\n          return element;\n        }\n      }\n    },\n  });\n}\n\n// String.prototype.padStart\nif (!String.prototype.padStart) {\n  String.prototype.padStart = function padStart(targetLength, padString) {\n    targetLength = targetLength >> 0;\n    padString = String(padString || ' ');\n    if (this.length > targetLength) {\n      return String(this);\n    } else {\n      targetLength = targetLength - this.length;\n      if (targetLength > padString.length) {\n        padString += padString.repeat(targetLength / padString.length);\n      }\n      return padString.slice(0, targetLength) + String(this);\n    }\n  };\n}\n"],"names":["canUseDOM","ElementProto","Element","prototype","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","closest","css","node","parentElement","Array","includes","Object","defineProperty","value","searchElement","fromIndex","TypeError","o","len","length","n","k","Math","max","abs","sameValueZero","x","y","isNaN","find","callback","list","thisArg","arguments","i","element","call","String","padStart","targetLength","padString","repeat","slice"],"mappings":"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"}