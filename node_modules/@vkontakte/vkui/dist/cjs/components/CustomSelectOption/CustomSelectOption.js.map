{"version":3,"sources":["../../../../src/components/CustomSelectOption/CustomSelectOption.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon16Done } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { SizeType } from '../../lib/adaptivity';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport styles from './CustomSelectOption.module.css';\n\nconst sizeYClassNames = {\n  none: styles['CustomSelectOption--sizeY-none'],\n  [SizeType.REGULAR]: styles['CustomSelectOption--sizeY-regular'],\n};\n\nexport interface CustomSelectOptionProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Вставляет основной контент.\n   * @deprecated since v6.0.0\n   */\n  option?: any;\n  /**\n   * Добавляет описание под основным блоком.\n   */\n  description?: React.ReactNode;\n  /**\n   * Вставляет элемент в начало блока перед основным контентом.\n   * Например, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.\n   */\n  before?: React.ReactNode;\n  /**\n   * Вставляет элемент в конец блока после основного контента.\n   * Например, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.\n   */\n  after?: React.ReactNode;\n  /**\n   * Позволяет создавать вложенность.\n   */\n  hierarchy?: number;\n  /**\n   * Включает состояние выбранного элемента списка.\n   */\n  selected?: boolean;\n  /**\n   * Включает состояние наведения.\n   */\n  hovered?: boolean;\n  /**\n   * Включает состояние фокуса.\n   */\n  focused?: boolean;\n  /**\n   * Блокирует весь блок.\n   *\n   * > ⚠️  Важно: если CustomSelectOption используется внутри [Select](https://vkcom.github.io/VKUI/#/Select), [CustomSelect](https://vkcom.github.io/VKUI/#/CustomSelect) или [ChipsSelect](https://vkcom.github.io/VKUI/#/ChipsSelect), то свойство явно должно выставляться только через структуру `options`.\n   * > Запрещается выставлять `disabled` проп опциям в обход `options`, иначе [CustomSelect](https://vkcom.github.io/VKUI/#/CustomSelect) и [ChipsSelect](https://vkcom.github.io/VKUI/#/ChipsSelect) не будут знать об актуальном состоянии\n   * опции.\n   */\n  disabled?: boolean;\n}\n\nconst warn = warnOnce('CustomSelectOption');\n\n/**\n * @see https://vkcom.github.io/VKUI/#/CustomSelectOption\n */\nexport const CustomSelectOption = ({\n  children,\n  hierarchy = 0,\n  hovered,\n  selected,\n  before,\n  after,\n  option,\n  description,\n  disabled,\n  style: styleProp,\n  className,\n  onClick,\n  ...restProps\n}: CustomSelectOptionProps) => {\n  const title = typeof children === 'string' ? children : undefined;\n  const { sizeY = 'none' } = useAdaptivity();\n  const style = React.useMemo(\n    () =>\n      hierarchy > 0\n        ? {\n            '--vkui_internal--custom_select_option_hierarchy_level': hierarchy,\n            ...styleProp,\n          }\n        : styleProp,\n    [hierarchy, styleProp],\n  );\n\n  if (!!option && process.env.NODE_ENV === 'development') {\n    // TODO [>=6]: Удалить св-во `option`\n    warn('Свойство option было добавлено по ошибке и будет удалено в v6.0.0.');\n  }\n\n  return (\n    <Paragraph\n      {...restProps}\n      onClick={disabled ? undefined : onClick}\n      Component=\"div\"\n      role=\"option\"\n      title={title}\n      aria-disabled={disabled}\n      aria-selected={selected}\n      className={classNames(\n        styles['CustomSelectOption'],\n        sizeY !== SizeType.COMPACT && sizeYClassNames[sizeY],\n        hovered && !disabled && styles['CustomSelectOption--hover'],\n        disabled && styles['CustomSelectOption--disabled'],\n        hierarchy > 0 && styles['CustomSelectOption--hierarchy'],\n        className,\n      )}\n      style={style}\n    >\n      {hasReactNode(before) && <div className={styles['CustomSelectOption__before']}>{before}</div>}\n      <div className={styles['CustomSelectOption__main']}>\n        <div className={styles['CustomSelectOption__children']}>{children}</div>\n        {hasReactNode(description) && (\n          <Footnote className={styles['CustomSelectOption__description']}>{description}</Footnote>\n        )}\n      </div>\n      <div className={styles['CustomSelectOption__after']}>\n        {hasReactNode(after) && <div>{after}</div>}\n        {selected && <Icon16Done className={styles['CustomSelectOption__selectedIcon']} />}\n      </div>\n    </Paragraph>\n  );\n};\n"],"names":["CustomSelectOption","sizeYClassNames","none","SizeType","REGULAR","warn","warnOnce","children","hierarchy","hovered","selected","before","after","option","description","disabled","style","styleProp","className","onClick","restProps","title","undefined","useAdaptivity","sizeY","React","useMemo","process","env","NODE_ENV","Paragraph","Component","role","aria-disabled","aria-selected","classNames","COMPACT","hasReactNode","div","Footnote","Icon16Done"],"mappings":";;;;+BAmEaA;;;eAAAA;;;;;;;;+DAnEU;qBACI;oBACc;6BACX;0BACL;wBACA;wBAEA;yBACC;AAG1B,IAAMC;IACJC,IAAI;GACHC,oBAAQ,CAACC,OAAO;AAiDnB,IAAMC,OAAOC,IAAAA,kBAAQ,EAAC;AAKf,IAAMN,qBAAqB;QAChCO,kBAAAA,oCACAC,WAAAA,0CAAY,sBACZC,iBAAAA,SACAC,kBAAAA,UACAC,gBAAAA,QACAC,eAAAA,OACAC,gBAAAA,QACAC,qBAAAA,aACAC,kBAAAA,UACAC,AAAOC,mBAAPD,OACAE,mBAAAA,WACAC,iBAAAA,SACGC;QAZHb;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAE;QACAC;;IAGA,IAAME,QAAQ,OAAOd,aAAa,WAAWA,WAAWe;IACxD,IAA2BC,kBAAAA,IAAAA,4BAAa,4BAAbA,gBAAnBC,OAAAA,0CAAQ;IAChB,IAAMR,QAAQS,OAAMC,OAAO,CACzB;eACElB,YAAY,IACR;YACE,yDAAyDA;WACtDS,aAELA;OACN;QAACT;QAAWS;KAAU;IAGxB,IAAI,CAAC,CAACJ,UAAUc,QAAQC,GAAG,CAACC,QAAQ,KAAK,eAAe;QACtD,qCAAqC;QACrCxB,KAAK;IACP;IAEA,qBACE,qBAACyB,oBAAS,8CACJV;QACJD,SAASJ,WAAWO,YAAYH;QAChCY,WAAU;QACVC,MAAK;QACLX,OAAOA;QACPY,iBAAelB;QACfmB,iBAAexB;QACfQ,WAAWiB,IAAAA,gBAAU,4BAEnBX,UAAUrB,oBAAQ,CAACiC,OAAO,IAAInC,eAAe,CAACuB,MAAM,EACpDf,WAAW,CAACM,6CACZA,gDACAP,YAAY,0CACZU;QAEFF,OAAOA;QAENqB,IAAAA,kBAAY,EAAC1B,yBAAW,qBAAC2B;QAAIpB,SAAS;OAAyCP,uBAChF,qBAAC2B;QAAIpB,SAAS;qBACZ,qBAACoB;QAAIpB,SAAS;OAA2CX,WACxD8B,IAAAA,kBAAY,EAACvB,8BACZ,qBAACyB,kBAAQ;QAACrB,SAAS;OAA8CJ,6BAGrE,qBAACwB;QAAIpB,SAAS;OACXmB,IAAAA,kBAAY,EAACzB,wBAAU,qBAAC0B,aAAK1B,QAC7BF,0BAAY,qBAAC8B,iBAAU;QAACtB,SAAS;;AAI1C"}