{"version":3,"sources":["../../../../src/components/ActionSheetItem/ActionSheetItem.tsx"],"sourcesContent":["import * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { SizeType } from '../../lib/adaptivity';\nimport { Platform } from '../../lib/platform';\nimport { ActionSheetContext, type ActionSheetContextType } from '../ActionSheet/ActionSheetContext';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport { Radio } from './subcomponents/Radio/Radio';\nimport styles from './ActionSheetItem.module.css';\n\nexport interface ActionSheetItemProps\n  extends React.HTMLAttributes<HTMLElement>,\n    React.AnchorHTMLAttributes<HTMLElement>,\n    Pick<React.InputHTMLAttributes<HTMLInputElement>, 'name' | 'checked' | 'value'> {\n  mode?: 'default' | 'destructive' | 'cancel';\n  before?: React.ReactNode;\n  after?: React.ReactNode;\n  meta?: React.ReactNode;\n  subtitle?: React.ReactNode;\n  autoClose?: boolean;\n  selectable?: boolean;\n  disabled?: boolean;\n  /**\n   * Все текстовые элементы при необходимости занимают несколько строк\n   */\n  multiline?: boolean;\n  /**\n   * Если autoClose === true, onClick будет вызван после завершения анимации скрытия и после вызова onClose.\n   * Из этого следует, что в объекте события значения полей типа `currentTarget` будут не определены.\n   * Если вам нужен объект события именно на момент клика, используйте `onImmediateClick`.\n   */\n  onClick?: React.MouseEventHandler<HTMLElement>;\n  onImmediateClick?: React.MouseEventHandler<HTMLElement>;\n  /**\n   * Иконка для `checked` режима.\n   */\n  iconChecked?: React.ReactNode;\n  /**\n   * Позволяет отделить ActionItem от CancelItem для определении того,\n   * кто вызвал закрытие ActionSheet. Используется в ActionSheet.onClose()\n   */\n  isCancelItem?: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ActionSheetItem\n */\nexport const ActionSheetItem = ({\n  children,\n  autoClose,\n  mode = 'default',\n  meta,\n  subtitle,\n  before,\n  after,\n  selectable,\n  value,\n  name,\n  checked,\n  defaultChecked,\n  onChange,\n  onClick,\n  onImmediateClick,\n  multiline = false,\n  iconChecked,\n  className,\n  isCancelItem,\n  ...restProps\n}: ActionSheetItemProps) => {\n  const platform = usePlatform();\n  const { onItemClick = () => noop, mode: actionSheetMode } =\n    React.useContext<ActionSheetContextType<HTMLElement>>(ActionSheetContext);\n  const { sizeY } = useAdaptivityWithJSMediaQueries();\n\n  let Component: React.ElementType = restProps.href ? 'a' : 'div';\n\n  if (selectable) {\n    Component = 'label';\n  }\n\n  const isRich = subtitle || meta || selectable;\n  const isCentered = !isRich && !before && platform === Platform.IOS;\n\n  return (\n    <Tappable\n      Component={Component}\n      {...restProps}\n      onClick={\n        selectable\n          ? onClick\n          : onItemClick({\n              action: onClick,\n              immediateAction: onImmediateClick,\n              autoClose: Boolean(autoClose),\n              isCancelItem: Boolean(isCancelItem),\n            })\n      }\n      activeMode={platform === Platform.IOS ? styles['ActionSheetItem--active'] : undefined}\n      className={classNames(\n        styles['ActionSheetItem'],\n        platform === Platform.IOS && styles['ActionSheetItem--ios'],\n        mode === 'cancel' && styles['ActionSheetItem--mode-cancel'],\n        mode === 'destructive' && styles['ActionSheetItem--mode-destructive'],\n        sizeY === SizeType.COMPACT && styles['ActionSheetItem--sizeY-compact'],\n        isRich && styles['ActionSheetItem--rich'],\n        actionSheetMode === 'menu' && styles['ActionSheetItem--menu'],\n        selectable && styles['ActionSheetItem--selectable'],\n        className,\n      )}\n    >\n      {before && <div className={styles['ActionSheetItem__before']}>{before}</div>}\n      <div\n        className={classNames(\n          styles['ActionSheetItem__container'],\n          !multiline && styles['ActionSheetItem--ellipsis'],\n        )}\n      >\n        <div\n          className={classNames(\n            styles['ActionSheetItem__content'],\n            isCentered && styles['ActionSheetItem--centered'],\n          )}\n        >\n          {platform === Platform.IOS ? (\n            <Title\n              className={styles['ActionSheetItem__children']}\n              weight={mode === 'cancel' ? '2' : '3'}\n              level={isCentered ? '2' : '3'}\n            >\n              {children}\n            </Title>\n          ) : (\n            <Text className={styles['ActionSheetItem__children']}>{children}</Text>\n          )}\n          {meta && <Text className={styles['ActionSheetItem__meta']}>{meta}</Text>}\n        </div>\n        {subtitle && <Subhead className={styles['ActionSheetItem__subtitle']}>{subtitle}</Subhead>}\n      </div>\n      {(selectable || after) && (\n        <div className={styles['ActionSheetItem__after']}>\n          {after}\n          {selectable && (\n            <Radio\n              name={name}\n              value={value}\n              onChange={onChange}\n              onClick={onItemClick({\n                action: noop,\n                immediateAction: noop,\n                autoClose: Boolean(autoClose),\n                isCancelItem: Boolean(isCancelItem),\n              })}\n              defaultChecked={defaultChecked}\n              checked={checked}\n              disabled={restProps.disabled}\n            >\n              {iconChecked}\n            </Radio>\n          )}\n        </div>\n      )}\n    </Tappable>\n  );\n};\n"],"names":["ActionSheetItem","children","autoClose","mode","meta","subtitle","before","after","selectable","value","name","checked","defaultChecked","onChange","onClick","onImmediateClick","multiline","iconChecked","className","isCancelItem","restProps","platform","usePlatform","React","useContext","ActionSheetContext","onItemClick","noop","actionSheetMode","sizeY","useAdaptivityWithJSMediaQueries","Component","href","isRich","isCentered","Platform","IOS","Tappable","action","immediateAction","Boolean","activeMode","undefined","classNames","SizeType","COMPACT","div","Title","weight","level","Text","Subhead","Radio","disabled"],"mappings":";;;;+BAmDaA;;;eAAAA;;;;;;;+DAnDU;oBACU;+CACe;2BACpB;0BACH;wBACA;kCACuC;wBACvC;uBACD;oBACH;qBACC;qBACA;AAwCf,IAAMA,kBAAkB;QAC7BC,kBAAAA,UACAC,mBAAAA,gCACAC,MAAAA,gCAAO,yBACPC,cAAAA,MACAC,kBAAAA,UACAC,gBAAAA,QACAC,eAAAA,OACAC,oBAAAA,YACAC,eAAAA,OACAC,cAAAA,MACAC,iBAAAA,SACAC,wBAAAA,gBACAC,kBAAAA,UACAC,iBAAAA,SACAC,0BAAAA,4CACAC,WAAAA,0CAAY,0BACZC,qBAAAA,aACAC,mBAAAA,WACAC,sBAAAA,cACGC;QAnBHnB;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;;IAGA,IAAME,WAAWC,IAAAA,wBAAW;IAC5B,IACEC,oBAAAA,OAAMC,UAAU,CAAsCC,sCAAkB,mCAAxEF,kBADMG,aAAAA,yDAAc;eAAMC,UAAI;uCAAExB,AAAMyB,kBACtCL,kBADgCpB;IAElC,IAAM,AAAE0B,QAAUC,IAAAA,gEAA+B,IAAzCD;IAER,IAAIE,YAA+BX,UAAUY,IAAI,GAAG,MAAM;IAE1D,IAAIxB,YAAY;QACduB,YAAY;IACd;IAEA,IAAME,SAAS5B,YAAYD,QAAQI;IACnC,IAAM0B,aAAa,CAACD,UAAU,CAAC3B,UAAUe,aAAac,kBAAQ,CAACC,GAAG;IAElE,qBACE,qBAACC,kBAAQ;QACPN,WAAWA;OACPX;QACJN,SACEN,aACIM,UACAY,YAAY;YACVY,QAAQxB;YACRyB,iBAAiBxB;YACjBb,WAAWsC,QAAQtC;YACnBiB,cAAcqB,QAAQrB;QACxB;QAENsB,YAAYpB,aAAac,kBAAQ,CAACC,GAAG,mCAAuCM;QAC5ExB,WAAWyB,IAAAA,gBAAU,yBAEnBtB,aAAac,kBAAQ,CAACC,GAAG,gCACzBjC,SAAS,gDACTA,SAAS,0DACT0B,UAAUe,oBAAQ,CAACC,OAAO,0CAC1BZ,uCACAL,oBAAoB,uCACpBpB,iDACAU;QAGDZ,wBAAU,qBAACwC;QAAI5B,SAAS;OAAsCZ,uBAC/D,qBAACwC;QACC5B,WAAWyB,IAAAA,gBAAU,oCAEnB,CAAC3B;qBAGH,qBAAC8B;QACC5B,WAAWyB,IAAAA,gBAAU,kCAEnBT;OAGDb,aAAac,kBAAQ,CAACC,GAAG,iBACxB,qBAACW,YAAK;QACJ7B,SAAS;QACT8B,QAAQ7C,SAAS,WAAW,MAAM;QAClC8C,OAAOf,aAAa,MAAM;OAEzBjC,0BAGH,qBAACiD,UAAI;QAAChC,SAAS;OAAwCjB,WAExDG,sBAAQ,qBAAC8C,UAAI;QAAChC,SAAS;OAAoCd,QAE7DC,0BAAY,qBAAC8C,gBAAO;QAACjC,SAAS;OAAwCb,YAExE,AAACG,CAAAA,cAAcD,KAAI,mBAClB,qBAACuC;QAAI5B,SAAS;OACXX,OACAC,4BACC,qBAAC4C,YAAK;QACJ1C,MAAMA;QACND,OAAOA;QACPI,UAAUA;QACVC,SAASY,YAAY;YACnBY,QAAQX,UAAI;YACZY,iBAAiBZ,UAAI;YACrBzB,WAAWsC,QAAQtC;YACnBiB,cAAcqB,QAAQrB;QACxB;QACAP,gBAAgBA;QAChBD,SAASA;QACT0C,UAAUjC,UAAUiC,QAAQ;OAE3BpC;AAOf"}