{"version":3,"sources":["../../../../src/components/Epic/ScrollSaver.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { HasChildren } from '../../types';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\n\nexport interface ScrollSaverProps extends HasChildren {\n  initialScroll?: number;\n  saveScroll: (this: void, scroll: number) => any;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/ScrollSaver\n */\nexport const ScrollSaver = ({ children, initialScroll, saveScroll }: ScrollSaverProps) => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n"],"names":["ScrollSaver","children","initialScroll","saveScroll","React","useContext","ScrollContext","getScroll","scrollTo","useIsomorphicLayoutEffect","y","Fragment"],"mappings":";;;;+BAaaA;;;eAAAA;;;;+DAbU;yCACmB;6BAEZ;AAUvB,IAAMA,cAAc;QAAGC,iBAAAA,UAAUC,sBAAAA,eAAeC,mBAAAA;IACrD,IAAgCC,oBAAAA,OAAMC,UAAU,CAACC,4BAAa,GAAtDC,YAAwBH,kBAAxBG,WAAWC,WAAaJ,kBAAbI;IACnBC,IAAAA,oDAAyB,EAAC;QACxB,IAAI,OAAOP,kBAAkB,UAAU;YACrCM,SAAS,GAAGN;QACd;QACA,OAAO;mBAAMC,WAAWI,YAAYG,CAAC;;IACvC,GAAG,EAAE;IACL,qBAAO,qBAACN,OAAMO,QAAQ,QAAEV;AAC1B"}