{"version":3,"sources":["../../../src/hooks/useKeyboardInputTracker.ts"],"sourcesContent":["import * as React from 'react';\nimport { Keys, pressedKey } from '../lib/accessibility';\nimport { useDOM } from '../lib/dom';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\nexport const ENABLE_KEYBOARD_INPUT_EVENT_NAME = 'enableKeyboardInput';\nexport const DISABLE_KEYBOARD_INPUT_EVENT_NAME = 'disableKeyboardInput';\n\nexport function useKeyboardInputTracker(): boolean {\n  const { document } = useDOM();\n\n  const [isKeyboardInputActive, toggleKeyboardInput] = React.useState<boolean>(false);\n\n  const enableKeyboardInput = React.useCallback(() => {\n    toggleKeyboardInput(true);\n  }, []);\n\n  const handleKeydown = React.useCallback(\n    (e: KeyboardEvent) => {\n      if (pressedKey(e) === Keys.TAB) {\n        enableKeyboardInput();\n      }\n    },\n    [enableKeyboardInput],\n  );\n\n  const disableKeyboardInput = React.useCallback(() => {\n    toggleKeyboardInput(false);\n  }, []);\n\n  const eventOptions = {\n    passive: true,\n    capture: true,\n  };\n\n  useGlobalEventListener(document, 'keydown', handleKeydown, eventOptions);\n  useGlobalEventListener(document, 'mousedown', disableKeyboardInput, eventOptions);\n  useGlobalEventListener(document, 'touchstart', disableKeyboardInput, eventOptions);\n  useGlobalEventListener(\n    document,\n    ENABLE_KEYBOARD_INPUT_EVENT_NAME,\n    enableKeyboardInput,\n    eventOptions,\n  );\n  useGlobalEventListener(\n    document,\n    DISABLE_KEYBOARD_INPUT_EVENT_NAME,\n    disableKeyboardInput,\n    eventOptions,\n  );\n\n  return isKeyboardInputActive;\n}\n"],"names":["DISABLE_KEYBOARD_INPUT_EVENT_NAME","ENABLE_KEYBOARD_INPUT_EVENT_NAME","useKeyboardInputTracker","document","useDOM","React","useState","isKeyboardInputActive","toggleKeyboardInput","enableKeyboardInput","useCallback","handleKeydown","e","pressedKey","Keys","TAB","disableKeyboardInput","eventOptions","passive","capture","useGlobalEventListener"],"mappings":";;;;;;;;;;;IAMaA,iCAAiC;eAAjCA;;IADAC,gCAAgC;eAAhCA;;IAGGC,uBAAuB;eAAvBA;;;;;+DARO;6BACU;mBACV;sCACgB;AAEhC,IAAMD,mCAAmC;AACzC,IAAMD,oCAAoC;AAE1C,SAASE;IACd,IAAM,AAAEC,WAAaC,IAAAA,WAAM,IAAnBD;IAER,IAAqDE,qCAAAA,OAAMC,QAAQ,CAAU,YAAtEC,wBAA8CF,oBAAvBG,sBAAuBH;IAErD,IAAMI,sBAAsBJ,OAAMK,WAAW,CAAC;QAC5CF,oBAAoB;IACtB,GAAG,EAAE;IAEL,IAAMG,gBAAgBN,OAAMK,WAAW,CACrC,SAACE;QACC,IAAIC,IAAAA,yBAAU,EAACD,OAAOE,mBAAI,CAACC,GAAG,EAAE;YAC9BN;QACF;IACF,GACA;QAACA;KAAoB;IAGvB,IAAMO,uBAAuBX,OAAMK,WAAW,CAAC;QAC7CF,oBAAoB;IACtB,GAAG,EAAE;IAEL,IAAMS,eAAe;QACnBC,SAAS;QACTC,SAAS;IACX;IAEAC,IAAAA,8CAAsB,EAACjB,UAAU,WAAWQ,eAAeM;IAC3DG,IAAAA,8CAAsB,EAACjB,UAAU,aAAaa,sBAAsBC;IACpEG,IAAAA,8CAAsB,EAACjB,UAAU,cAAca,sBAAsBC;IACrEG,IAAAA,8CAAsB,EACpBjB,UACAF,kCACAQ,qBACAQ;IAEFG,IAAAA,8CAAsB,EACpBjB,UACAH,mCACAgB,sBACAC;IAGF,OAAOV;AACT"}