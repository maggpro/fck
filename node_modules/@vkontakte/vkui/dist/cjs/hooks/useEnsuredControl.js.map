{"version":3,"sources":["../../../src/hooks/useEnsuredControl.ts"],"sourcesContent":["import * as React from 'react';\n\ninterface UseEnsuredControlProps<V, E extends React.ChangeEvent<any>> {\n  value?: V;\n  onChange?: (e: E) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useEnsuredControl<V, E extends React.ChangeEvent<any>>({\n  onChange: onChangeProp,\n  disabled,\n  ...props\n}: UseEnsuredControlProps<V, E>): [V | undefined, (e: E) => any] {\n  const [value, onChangeValue] = useCustomEnsuredControl(props);\n\n  const onChange = React.useCallback(\n    (e: E) => {\n      if (disabled) {\n        return;\n      }\n\n      onChangeValue(e.target.value);\n      onChangeProp && onChangeProp(e);\n    },\n    [onChangeValue, onChangeProp, disabled],\n  );\n\n  return [value, onChange];\n}\n\ninterface UseCustomEnsuredControlProps<V> {\n  value?: V;\n  onChange?: (v: V) => any;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n}\n\nexport function useCustomEnsuredControl<V>({\n  disabled,\n  onChange: onChangeProp,\n  defaultValue,\n  value,\n}: UseCustomEnsuredControlProps<V>): [V | undefined, (e: V) => any] {\n  const isControlled = value !== undefined;\n  const [localValue, setLocalValue] = React.useState(defaultValue);\n\n  const onChange = React.useCallback(\n    (v: V) => {\n      if (disabled) {\n        return;\n      }\n\n      !isControlled && setLocalValue(v);\n      onChangeProp && onChangeProp(v);\n    },\n    [disabled, isControlled, onChangeProp],\n  );\n\n  return [isControlled ? value : localValue, onChange];\n}\n"],"names":["useCustomEnsuredControl","useEnsuredControl","onChange","onChangeProp","disabled","props","value","onChangeValue","React","useCallback","e","target","defaultValue","isControlled","undefined","useState","localValue","setLocalValue","v"],"mappings":";;;;;;;;;;;IAsCgBA,uBAAuB;eAAvBA;;IA7BAC,iBAAiB;eAAjBA;;;;;;+DATO;AAShB,SAASA,kBAAuD;QACrEC,AAAUC,eAD2D,OACrED,UACAE,WAFqE,OAErEA,UACGC,qCAHkE;QACrEH;QACAE;;IAGA,IAA+BJ,8CAAAA,wBAAwBK,YAAhDC,QAAwBN,6BAAjBO,gBAAiBP;IAE/B,IAAME,WAAWM,OAAMC,WAAW,CAChC,SAACC;QACC,IAAIN,UAAU;YACZ;QACF;QAEAG,cAAcG,EAAEC,MAAM,CAACL,KAAK;QAC5BH,gBAAgBA,aAAaO;IAC/B,GACA;QAACH;QAAeJ;QAAcC;KAAS;IAGzC,OAAO;QAACE;QAAOJ;KAAS;AAC1B;AASO,SAASF,wBAA2B,KAKT;QAJhCI,WADyC,MACzCA,UACAF,AAAUC,eAF+B,MAEzCD,UACAU,eAHyC,MAGzCA,cACAN,QAJyC,MAIzCA;IAEA,IAAMO,eAAeP,UAAUQ;IAC/B,IAAoCN,qCAAAA,OAAMO,QAAQ,CAACH,mBAA5CI,aAA6BR,oBAAjBS,gBAAiBT;IAEpC,IAAMN,WAAWM,OAAMC,WAAW,CAChC,SAACS;QACC,IAAId,UAAU;YACZ;QACF;QAEA,CAACS,gBAAgBI,cAAcC;QAC/Bf,gBAAgBA,aAAae;IAC/B,GACA;QAACd;QAAUS;QAAcV;KAAa;IAGxC,OAAO;QAACU,eAAeP,QAAQU;QAAYd;KAAS;AACtD"}