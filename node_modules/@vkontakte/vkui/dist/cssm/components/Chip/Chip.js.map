{"version":3,"sources":["../../../../src/components/Chip/Chip.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Icon16Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { SizeType } from '../../lib/adaptivity';\nimport { getTitleFromChildren } from '../../lib/utils';\nimport { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport styles from './Chip.module.css';\n\nconst sizeYClassNames = {\n  none: styles['Chip--sizeY-none'],\n  [SizeType.COMPACT]: styles['Chip--sizeY-compact'],\n};\n\nexport type ChipValue = string | number;\n\nexport interface ChipOption {\n  value?: ChipValue;\n  label?: string;\n  disabled?: boolean;\n  [otherProp: string]: any;\n}\n\nexport interface ChipProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  value: ChipValue;\n  option?: ChipOption;\n  onRemove?: (event?: React.MouseEvent, value?: ChipValue) => void;\n  removable?: boolean;\n  removeAriaLabel?: string;\n  before?: React.ReactNode;\n  after?: React.ReactNode;\n}\n\nexport interface RenderChip<T extends ChipOption> extends ChipProps {\n  label: string;\n  option: T;\n  disabled: boolean;\n}\n\n/**\n * @see https://vkcom.github.io/VKUI/#/Chip\n */\nexport const Chip = ({\n  value = '',\n  option,\n  removable = true,\n  onRemove = noop,\n  removeAriaLabel = 'Удалить',\n  before = null,\n  after,\n  children,\n  ...restProps\n}: ChipProps) => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const onRemoveWrapper = React.useCallback(\n    (event: React.MouseEvent) => {\n      onRemove(event, value);\n    },\n    [onRemove, value],\n  );\n  const title = getTitleFromChildren(children);\n\n  return (\n    <RootComponent\n      baseClassName={classNames(\n        styles['Chip'],\n        sizeY !== SizeType.REGULAR && sizeYClassNames[sizeY],\n        removable && styles['Chip--removable'],\n      )}\n      role=\"option\"\n      aria-label={title}\n      {...restProps}\n    >\n      <div className={styles['Chip__in']} role=\"presentation\">\n        {hasReactNode(before) && <div className={styles['Chip__before']}>{before}</div>}\n        <span className={styles['Chip__content']} title={title} aria-hidden>\n          {children}\n        </span>\n        {hasReactNode(after) && <div className={styles['Chip__after']}>{after}</div>}\n\n        {removable && (\n          <Tappable\n            Component=\"button\"\n            className={styles['Chip__remove']}\n            onClick={onRemoveWrapper}\n            hasHover={false}\n            hasActive={false}\n            aria-label={`${removeAriaLabel} ${title}`}\n          >\n            <Icon16Cancel />\n          </Tappable>\n        )}\n      </div>\n    </RootComponent>\n  );\n};\n"],"names":["React","Icon16Cancel","classNames","hasReactNode","noop","useAdaptivity","SizeType","getTitleFromChildren","RootComponent","Tappable","styles","sizeYClassNames","none","COMPACT","Chip","value","option","removable","onRemove","removeAriaLabel","before","after","children","restProps","sizeY","onRemoveWrapper","useCallback","event","title","baseClassName","REGULAR","role","aria-label","div","className","span","aria-hidden","Component","onClick","hasHover","hasActive"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAC/B,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,UAAU,EAAEC,YAAY,EAAEC,IAAI,QAAQ,kBAAkB;AACjE,SAASC,aAAa,QAAQ,4BAA4B;AAC1D,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,oBAAoB,QAAQ,kBAAkB;AAEvD,SAASC,aAAa,QAAQ,iCAAiC;AAC/D,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,OAAOC,YAAY,oBAAoB;AAEvC,MAAMC,kBAAkB;IACtBC,MAAMF,MAAM,CAAC,mBAAmB;IAChC,CAACJ,SAASO,OAAO,CAAC,EAAEH,MAAM,CAAC,sBAAsB;AACnD;AA2BA;;CAEC,GACD,OAAO,MAAMI,OAAO,CAAC,EACnBC,QAAQ,EAAE,EACVC,MAAM,EACNC,YAAY,IAAI,EAChBC,WAAWd,IAAI,EACfe,kBAAkB,SAAS,EAC3BC,SAAS,IAAI,EACbC,KAAK,EACLC,QAAQ,EACR,GAAGC,WACO;IACV,MAAM,EAAEC,QAAQ,MAAM,EAAE,GAAGnB;IAC3B,MAAMoB,kBAAkBzB,MAAM0B,WAAW,CACvC,CAACC;QACCT,SAASS,OAAOZ;IAClB,GACA;QAACG;QAAUH;KAAM;IAEnB,MAAMa,QAAQrB,qBAAqBe;IAEnC,qBACE,oBAACd;QACCqB,eAAe3B,WACbQ,MAAM,CAAC,OAAO,EACdc,UAAUlB,SAASwB,OAAO,IAAInB,eAAe,CAACa,MAAM,EACpDP,aAAaP,MAAM,CAAC,kBAAkB;QAExCqB,MAAK;QACLC,cAAYJ;QACX,GAAGL,SAAS;qBAEb,oBAACU;QAAIC,WAAWxB,MAAM,CAAC,WAAW;QAAEqB,MAAK;OACtC5B,aAAaiB,yBAAW,oBAACa;QAAIC,WAAWxB,MAAM,CAAC,eAAe;OAAGU,uBAClE,oBAACe;QAAKD,WAAWxB,MAAM,CAAC,gBAAgB;QAAEkB,OAAOA;QAAOQ,eAAAA;OACrDd,WAEFnB,aAAakB,wBAAU,oBAACY;QAAIC,WAAWxB,MAAM,CAAC,cAAc;OAAGW,QAE/DJ,2BACC,oBAACR;QACC4B,WAAU;QACVH,WAAWxB,MAAM,CAAC,eAAe;QACjC4B,SAASb;QACTc,UAAU;QACVC,WAAW;QACXR,cAAY,CAAC,EAAEb,gBAAgB,CAAC,EAAES,MAAM,CAAC;qBAEzC,oBAAC3B;AAMb,EAAE"}